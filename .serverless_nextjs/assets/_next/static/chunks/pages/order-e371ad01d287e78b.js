(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{594:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return t(2895)}])},2895:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return _}});var r=t(828),u=t(7297),o=t(5944),i=t(7337),a=t(7294),c=t(4402),s=t(4208),d=t(5545),l=t(4653),f=t(5746),p=t(6486),v=t(3677),h=t(756),m=t(6439),x=t(1163),g=t.n(x);function y(){var n=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 24px 20px;\n"]);return y=function(){return n},n}function Z(){var n=(0,u.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return Z=function(){return n},n}function k(){var n=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]);return k=function(){return n},n}function b(){var n=(0,u.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 52px;\n  border-radius: 6px;\n  margin-top: 16px;\n  padding: 16px 20px;\n  background-color: ",";\n"]);return b=function(){return n},n}function w(n){var e=n.value,t=(0,a.useState)(""),r=t[0],u=function(n){var e=(0,c.aN)(),t=e.open,r=e.close;return(0,a.useCallback)((function(){t({children:(0,o.tZ)(v.iV,{setRequest:n,onClose:r})})}),[t])}(t[1]);return(0,o.BX)(o.HY,{children:[(0,o.BX)(I,{children:[(0,o.BX)(C,{children:[(0,o.BX)(O,{children:[(0,o.tZ)(h.xv,{size:"lg",weight:"semibold",color:m.O9.gray900,children:"\ubc30\uc1a1\uc9c0 \uc815\ubcf4"}),(0,o.tZ)(h.xv,{size:"base",weight:"regular",color:e?m.O9.gray900:m.O9.gray600,children:e?"".concat(e.address,"(").concat(e.detailAddress,")"):"\ubc30\uc1a1\ubc1b\uc744 \uc8fc\uc18c\ub97c \ub4f1\ub85d\ud574\uc8fc\uc138\uc694."})]}),(0,o.tZ)(h.xv,{size:"base",weight:"semibold",color:m.O9.primary700Default,onClick:function(){return g().push(e?"address/add-address":"/address/new-address")},children:e?"\ubcc0\uacbd\ud558\uae30":"\ub4f1\ub85d\ud558\uae30"})]}),(0,o.BX)(S,{onClick:u,children:[(0,o.tZ)(h.xv,{size:"base",weight:"regular",color:r?m.O9.gray900:m.O9.gray400,children:r||"\ubc30\uc1a1 \uc694\uccad \uc0ac\ud56d\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),(0,o.tZ)("img",{src:"/assets/chevron_down.svg",alt:"chevron-down",width:24,height:24})]})]}),(0,o.tZ)(h.iz,{width:"100%",height:6,color:m.O9.gray100})]})}var I=i.Z.div(y()),C=i.Z.div(Z()),O=i.Z.div(k()),S=i.Z.div(b(),m.O9.gray100);function N(){var n=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n"]);return N=function(){return n},n}var _=(0,s.Q)((function(){var n,e=(0,r.Z)((0,d.aF)(),1)[0],t=(0,f.N)(),u=(0,a.useState)(!1),i=u[0],s=u[1],h=(0,r.Z)((0,l.v4)(),1)[0],m=(0,a.useState)()[0],x=null!==(n=null!==m&&void 0!==m?m:null===h||void 0===h?void 0:h.find((function(n){return n.default})))&&void 0!==n?n:(0,p.first)(h);return e?(0,o.BX)(X,{children:[(0,o.tZ)(c.xG,{back:!0,children:(0,o.tZ)(c.xG.Title,{children:"\uacb0\uc81c\ud558\uae30"})}),(0,o.tZ)(v.EY,{data:null!==t&&void 0!==t?t:[]}),(0,o.tZ)(w,{value:x}),(0,o.tZ)(v.ao,{userInfo:e,setIsCheckSelfReceving:s}),(0,o.tZ)(v.ef,{orderList:null!==t&&void 0!==t?t:[]}),(0,o.tZ)(v.v3,{}),(0,o.tZ)(v.BE,{userInfo:e,orderList:null!==t&&void 0!==t?t:[],isCheckSelfReceving:i,address:x})]}):null})),X=i.Z.div(N())},5982:function(n,e,t){"use strict";t.d(e,{u:function(){return o}});var r=t(4026),u=t(8767);function o(n){var e=(0,u.useQuery)("product-list",(function(){return(0,r.y)({})}),n);return[e.data,e.refetch]}},4328:function(n,e,t){"use strict";t.d(e,{jD:function(){return y},l8:function(){return Z},XZ:function(){return k}});var r=t(7568),u=t(6042),o=t(828),i=t(9815),a=t(4051),c=t.n(a),s=t(1708),d=t(7294),l=t(4480),f=t(6983),p=window.localStorage,v=(0,f.J)({storage:p}).persistAtom,h=(0,l.cn)({key:"local-cart",default:[],effects_UNSTABLE:[v]}),m=t(4653),x=t(5982),g=t(6808);function y(n){var e=(0,o.Z)((0,m.VI)(n),2),t=e[0],r=e[1],u=k().value,a=(0,o.Z)((0,x.u)(),1)[0],c=(0,d.useMemo)((function(){return null==a?[]:u.map((function(n){var e=a.find((function(e){return e.id===n.productId}));return{id:Date.now(),product:e,amount:n.amount,options:n.options.map((function(n){return{id:n.optionId,option:e.options.find((function(e){return e.id===n.optionId})),amount:n.amount}}))}}))}),[u,a]);return{value:(0,d.useMemo)((function(){return(0,i.Z)(c).concat((0,i.Z)(null!==t&&void 0!==t?t:[]))}),[c,t]),local:c,reload:r}}function Z(){var n=(0,o.Z)((0,g.a)(),1)[0],e=y(),t=e.value,u=e.local,i=e.reload,a=k(),l=(0,d.useCallback)(function(){var n=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((t=u.findIndex((function(n){return n.id===e})))>=0)){n.next=5;break}a.remove(t),n.next=9;break;case 5:return n.next=7,(0,s.EI)(e);case 7:return n.next=9,i();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,u]),f=(0,d.useCallback)((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,(0,s.LL)();case 3:return e.next=5,i();case 5:a.clear();case 6:case"end":return e.stop()}}),e)}))),[n]),p=(0,d.useCallback)(function(){var n=(0,r.Z)(c().mark((function n(e,t){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((r=u.findIndex((function(n){return n.id===e})))>=0)){n.next=5;break}a.updateItem(r,{amount:t}),n.next=9;break;case 5:return n.next=7,(0,s.oZ)(e,t);case 7:return n.next=9,i();case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[t,u]),v=(0,d.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(r){var u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.find((function(n){return n.product.id===r.productId&&n.options.every((function(n){var e;return(null===(e=r.options.find((function(e){return n.option.id===e.optionId})))||void 0===e?void 0:e.amount)===n.amount}))})),!u){e.next=3;break}return e.abrupt("return",p(u.id,u.amount+r.amount));case 3:if(!n){e.next=10;break}return e.next=6,(0,s.Xq)(r);case 6:return e.next=8,i();case 8:e.next=11;break;case 10:a.add(r);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n,t,p]);return{value:t,local:u,reload:i,add:v,remove:l,clear:f,updateAmount:p}}function k(){var n=(0,o.Z)((0,l.FV)(h),2),e=n[0],t=n[1];return{add:(0,d.useCallback)((function(n){t((function(e){return(0,i.Z)(e).concat([n])}))}),[]),clear:(0,d.useCallback)((function(){return t([])}),[]),remove:(0,d.useCallback)((function(n){t((function(e){return e.filter((function(e,t){return t!==n}))}))}),[]),value:null!==e&&void 0!==e?e:[],updateItem:(0,d.useCallback)((function(n,e){t((function(t){var r=(0,i.Z)(t);return r[n]=(0,u.Z)({},t[n],e),r}))}),[])}}},5746:function(n,e,t){"use strict";t.d(e,{N:function(){return d}});var r=t(828),u=t(532),o=t(6321),i=t(7294),a=t(4480),c=t(5982),s=t(4328);function d(n){var e=(0,r.Z)((0,c.u)(),1)[0],t=(0,i.useMemo)((function(){var n={id:Number(u.QS.get("productId")),amount:Number(u.QS.get("orderAmount"))},t=null===e||void 0===e?void 0:e.find((function(e){return e.id===n.id}));return n.id&&n.amount&&t?{id:t.id,isDirect:!0,amount:n.amount,product:t,options:[]}:null}),[e]),d=(0,a.sJ)(o.x),l=(0,s.jD)(n);return t?[t]:d.length?d:l.value}},6321:function(n,e,t){"use strict";t.d(e,{x:function(){return r}});var r=(0,t(4480).cn)({key:"orderItems",default:[]})},6983:function(n,e){"use strict";e.J=void 0;e.J=(n={})=>{if("undefined"===typeof window)return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:t=localStorage}=n,r=(n,e,t,r)=>{r?delete e[t]:e[t]=n,i(e)},u=()=>{const n=t.getItem(e);return null===n||void 0===n?{}:"string"===typeof n?o(n):"function"===typeof n.then?n.then(o):{}},o=n=>{if(void 0===n)return{};try{return JSON.parse(n)}catch(e){return console.error(e),{}}},i=n=>{try{"function"===typeof t.mergeItem?t.mergeItem(e,JSON.stringify(n)):t.setItem(e,JSON.stringify(n))}catch(r){console.error(r)}};return{persistAtom:({onSet:n,node:e,trigger:t,setSelf:o})=>{if("get"===t){const n=u();"function"===typeof n.then&&n.then((n=>{n.hasOwnProperty(e.key)&&o(n[e.key])})),n.hasOwnProperty(e.key)&&o(n[e.key])}n((async(n,t,o)=>{const i=u();"function"===typeof i.then?i.then((t=>r(n,t,e.key,o))):r(n,i,e.key,o)}))}}}}},function(n){n.O(0,[499,421,774,888,179],(function(){return e=594,n(n.s=e);var e}));var e=n.O();_N_E=e}]);